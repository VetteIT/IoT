import{g as xe,a as ve,b as x,s as ne,c as te,m as ge,u as $e,j as t,d as me,e as ye,f as Ke,h as vt,o as $t,p as yt,q as nt,t as St,i as bt,B as fe}from"./index-uXjfszPq.js";import{u as Oe,C as _e,G as J,a as je,b as Qe,F as jt,c as Ct,d as kt}from"./url-join-Bq5OuPDb.js";import{B as Dt,M as Mt,P as st,a as Tt,b as It,F as it,T as Y,c as Me,u as Ot,G as Rt}from"./useTranslation-DjAqwgvE.js";import{C as At,B as se,F as Wt,I as Nt,a as Bt,T as Re,S as zt,A as Ht}from"./TextField-CFRbq1Vu.js";import{T as Ce}from"./Tooltip-BVZKaCrU.js";import{M as et}from"./MenuItem-u_sSltQC.js";import{S as Pt,F as Ae}from"./FormControlLabel-8qGP0tEa.js";function Ft(o){return xe("MuiDialog",o)}const We=ve("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),at=x.createContext({}),Yt=ne(Dt,{name:"MuiDialog",slot:"Backdrop",overrides:(o,r)=>r.backdrop})({zIndex:-1}),Et=o=>{const{classes:r,scroll:e,maxWidth:n,fullWidth:R,fullScreen:$}=o,b={root:["root"],container:["container",`scroll${te(e)}`],paper:["paper",`paperScroll${te(e)}`,`paperWidth${te(String(n))}`,R&&"paperFullWidth",$&&"paperFullScreen"]};return ye(b,Ft,r)},Ut=ne(Mt,{name:"MuiDialog",slot:"Root",overridesResolver:(o,r)=>r.root})({"@media print":{position:"absolute !important"}}),Lt=ne("div",{name:"MuiDialog",slot:"Container",overridesResolver:(o,r)=>{const{ownerState:e}=o;return[r.container,r[`scroll${te(e.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Jt=ne(st,{name:"MuiDialog",slot:"Paper",overridesResolver:(o,r)=>{const{ownerState:e}=o;return[r.paper,r[`scrollPaper${te(e.scroll)}`],r[`paperWidth${te(String(e.maxWidth))}`],e.fullWidth&&r.paperFullWidth,e.fullScreen&&r.paperFullScreen]}})(ge(({theme:o})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:r})=>!r.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:o.breakpoints.unit==="px"?Math.max(o.breakpoints.values.xs,444):`max(${o.breakpoints.values.xs}${o.breakpoints.unit}, 444px)`,[`&.${We.paperScrollBody}`]:{[o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(o.breakpoints.values).filter(r=>r!=="xs").map(r=>({props:{maxWidth:r},style:{maxWidth:`${o.breakpoints.values[r]}${o.breakpoints.unit}`,[`&.${We.paperScrollBody}`]:{[o.breakpoints.down(o.breakpoints.values[r]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:r})=>r.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:r})=>r.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${We.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),Ne=x.forwardRef(function(r,e){const n=$e({props:r,name:"MuiDialog"}),R=Tt(),$={enter:R.transitions.duration.enteringScreen,exit:R.transitions.duration.leavingScreen},{"aria-describedby":b,"aria-labelledby":O,"aria-modal":A=!0,BackdropComponent:W,BackdropProps:U,children:N,className:E,disableEscapeKeyDown:L=!1,fullScreen:v=!1,fullWidth:ee=!1,maxWidth:D="sm",onBackdropClick:X,onClick:M,onClose:q,open:ie,PaperComponent:K=st,PaperProps:y={},scroll:m="paper",TransitionComponent:a=it,transitionDuration:_=$,TransitionProps:g,...p}=n,I={...n,disableEscapeKeyDown:L,fullScreen:v,fullWidth:ee,maxWidth:D,scroll:m},H=Et(I),u=x.useRef(),c=f=>{u.current=f.target===f.currentTarget},s=f=>{M&&M(f),u.current&&(u.current=null,X&&X(f),q&&q(f,"backdropClick"))},d=It(O),i=x.useMemo(()=>({titleId:d}),[d]);return t.jsx(Ut,{className:me(H.root,E),closeAfterTransition:!0,components:{Backdrop:Yt},componentsProps:{backdrop:{transitionDuration:_,as:W,...U}},disableEscapeKeyDown:L,onClose:q,open:ie,ref:e,onClick:s,ownerState:I,...p,children:t.jsx(a,{appear:!0,in:ie,timeout:_,role:"presentation",...g,children:t.jsx(Lt,{className:me(H.container),onMouseDown:c,ownerState:I,children:t.jsx(Jt,{as:K,elevation:24,role:"dialog","aria-describedby":b,"aria-labelledby":d,"aria-modal":A,...y,className:me(H.paper,y.className),ownerState:I,children:t.jsx(at.Provider,{value:i,children:N})})})})})});function qt(o){return xe("MuiDialogActions",o)}ve("MuiDialogActions",["root","spacing"]);const Vt=o=>{const{classes:r,disableSpacing:e}=o;return ye({root:["root",!e&&"spacing"]},qt,r)},Gt=ne("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:e}=o;return[r.root,!e.disableSpacing&&r.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:o})=>!o.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Be=x.forwardRef(function(r,e){const n=$e({props:r,name:"MuiDialogActions"}),{className:R,disableSpacing:$=!1,...b}=n,O={...n,disableSpacing:$},A=Vt(O);return t.jsx(Gt,{className:me(A.root,R),ownerState:O,ref:e,...b})});function Xt(o){return xe("MuiDialogContent",o)}ve("MuiDialogContent",["root","dividers"]);function Zt(o){return xe("MuiDialogTitle",o)}const Kt=ve("MuiDialogTitle",["root"]),Qt=o=>{const{classes:r,dividers:e}=o;return ye({root:["root",e&&"dividers"]},Xt,r)},eo=ne("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:e}=o;return[r.root,e.dividers&&r.dividers]}})(ge(({theme:o})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:r})=>r.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(o.vars||o).palette.divider}`,borderBottom:`1px solid ${(o.vars||o).palette.divider}`}},{props:({ownerState:r})=>!r.dividers,style:{[`.${Kt.root} + &`]:{paddingTop:0}}}]}))),ze=x.forwardRef(function(r,e){const n=$e({props:r,name:"MuiDialogContent"}),{className:R,dividers:$=!1,...b}=n,O={...n,dividers:$},A=Qt(O);return t.jsx(eo,{className:me(A.root,R),ownerState:O,ref:e,...b})}),to=o=>{const{classes:r}=o;return ye({root:["root"]},Zt,r)},oo=ne(Y,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(o,r)=>r.root})({padding:"16px 24px",flex:"0 0 auto"}),He=x.forwardRef(function(r,e){const n=$e({props:r,name:"MuiDialogTitle"}),{className:R,id:$,...b}=n,O=n,A=to(O),{titleId:W=$}=x.useContext(at);return t.jsx(oo,{component:"h2",className:me(A.root,R),ownerState:O,ref:e,variant:"h6",id:$??W,...b})});function ro(o){return xe("MuiSwitch",o)}const G=ve("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),no=o=>{const{classes:r,edge:e,size:n,color:R,checked:$,disabled:b}=o,O={root:["root",e&&`edge${te(e)}`,`size${te(n)}`],switchBase:["switchBase",`color${te(R)}`,$&&"checked",b&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},A=ye(O,ro,r);return{...r,...A}},so=ne("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:e}=o;return[r.root,e.edge&&r[`edge${te(e.edge)}`],r[`size${te(e.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${G.thumb}`]:{width:16,height:16},[`& .${G.switchBase}`]:{padding:4,[`&.${G.checked}`]:{transform:"translateX(16px)"}}}}]}),io=ne(Pt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(o,r)=>{const{ownerState:e}=o;return[r.switchBase,{[`& .${G.input}`]:r.input},e.color!=="default"&&r[`color${te(e.color)}`]]}})(ge(({theme:o})=>({position:"absolute",top:0,left:0,zIndex:1,color:o.vars?o.vars.palette.Switch.defaultColor:`${o.palette.mode==="light"?o.palette.common.white:o.palette.grey[300]}`,transition:o.transitions.create(["left","transform"],{duration:o.transitions.duration.shortest}),[`&.${G.checked}`]:{transform:"translateX(20px)"},[`&.${G.disabled}`]:{color:o.vars?o.vars.palette.Switch.defaultDisabledColor:`${o.palette.mode==="light"?o.palette.grey[100]:o.palette.grey[600]}`},[`&.${G.checked} + .${G.track}`]:{opacity:.5},[`&.${G.disabled} + .${G.track}`]:{opacity:o.vars?o.vars.opacity.switchTrackDisabled:`${o.palette.mode==="light"?.12:.2}`},[`& .${G.input}`]:{left:"-100%",width:"300%"}})),ge(({theme:o})=>({"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:Ke(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(o.palette).filter(vt(["light"])).map(([r])=>({props:{color:r},style:{[`&.${G.checked}`]:{color:(o.vars||o).palette[r].main,"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette[r].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:Ke(o.palette[r].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${G.disabled}`]:{color:o.vars?o.vars.palette.Switch[`${r}DisabledColor`]:`${o.palette.mode==="light"?$t(o.palette[r].main,.62):yt(o.palette[r].main,.55)}`}},[`&.${G.checked} + .${G.track}`]:{backgroundColor:(o.vars||o).palette[r].main}}}))]}))),ao=ne("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(o,r)=>r.track})(ge(({theme:o})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:o.transitions.create(["opacity","background-color"],{duration:o.transitions.duration.shortest}),backgroundColor:o.vars?o.vars.palette.common.onBackground:`${o.palette.mode==="light"?o.palette.common.black:o.palette.common.white}`,opacity:o.vars?o.vars.opacity.switchTrack:`${o.palette.mode==="light"?.38:.3}`}))),co=ne("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(o,r)=>r.thumb})(ge(({theme:o})=>({boxShadow:(o.vars||o).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Pe=x.forwardRef(function(r,e){const n=$e({props:r,name:"MuiSwitch"}),{className:R,color:$="primary",edge:b=!1,size:O="medium",sx:A,...W}=n,U={...n,color:$,edge:b,size:O},N=no(U),E=t.jsx(co,{className:N.thumb,ownerState:U});return t.jsxs(so,{className:me(N.root,R),sx:A,ownerState:U,children:[t.jsx(io,{type:"checkbox",icon:E,checkedIcon:E,ref:e,ownerState:U,...W,classes:{...N,root:N.switchBase}}),t.jsx(ao,{className:N.track,ownerState:U})]})}),lo=Me(t.jsx("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9m0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}),"Alarm"),uo=Me(t.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),tt=Me(t.jsx("path",{d:"M17.66 8 12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8M6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14z"}),"Opacity"),mo=Me(t.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer");var ke={exports:{}},ho=ke.exports,ot;function po(){return ot||(ot=1,function(o,r){(function(e,n){o.exports=n()})(ho,function(){var e=1e3,n=6e4,R=36e5,$="millisecond",b="second",O="minute",A="hour",W="day",U="week",N="month",E="quarter",L="year",v="date",ee="Invalid Date",D=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,X=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var c=["th","st","nd","rd"],s=u%100;return"["+u+(c[(s-20)%10]||c[s]||c[0])+"]"}},q=function(u,c,s){var d=String(u);return!d||d.length>=c?u:""+Array(c+1-d.length).join(s)+u},ie={s:q,z:function(u){var c=-u.utcOffset(),s=Math.abs(c),d=Math.floor(s/60),i=s%60;return(c<=0?"+":"-")+q(d,2,"0")+":"+q(i,2,"0")},m:function u(c,s){if(c.date()<s.date())return-u(s,c);var d=12*(s.year()-c.year())+(s.month()-c.month()),i=c.clone().add(d,N),f=s-i<0,w=c.clone().add(d+(f?-1:1),N);return+(-(d+(s-i)/(f?i-w:w-i))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:N,y:L,w:U,d:W,D:v,h:A,m:O,s:b,ms:$,Q:E}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return u===void 0}},K="en",y={};y[K]=M;var m="$isDayjsObject",a=function(u){return u instanceof I||!(!u||!u[m])},_=function u(c,s,d){var i;if(!c)return K;if(typeof c=="string"){var f=c.toLowerCase();y[f]&&(i=f),s&&(y[f]=s,i=f);var w=c.split("-");if(!i&&w.length>1)return u(w[0])}else{var T=c.name;y[T]=c,i=T}return!d&&i&&(K=i),i||!d&&K},g=function(u,c){if(a(u))return u.clone();var s=typeof c=="object"?c:{};return s.date=u,s.args=arguments,new I(s)},p=ie;p.l=_,p.i=a,p.w=function(u,c){return g(u,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var I=function(){function u(s){this.$L=_(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[m]=!0}var c=u.prototype;return c.parse=function(s){this.$d=function(d){var i=d.date,f=d.utc;if(i===null)return new Date(NaN);if(p.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var w=i.match(D);if(w){var T=w[2]-1||0,B=(w[7]||"0").substring(0,3);return f?new Date(Date.UTC(w[1],T,w[3]||1,w[4]||0,w[5]||0,w[6]||0,B)):new Date(w[1],T,w[3]||1,w[4]||0,w[5]||0,w[6]||0,B)}}return new Date(i)}(s),this.init()},c.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},c.$utils=function(){return p},c.isValid=function(){return this.$d.toString()!==ee},c.isSame=function(s,d){var i=g(s);return this.startOf(d)<=i&&i<=this.endOf(d)},c.isAfter=function(s,d){return g(s)<this.startOf(d)},c.isBefore=function(s,d){return this.endOf(d)<g(s)},c.$g=function(s,d,i){return p.u(s)?this[d]:this.set(i,s)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(s,d){var i=this,f=!!p.u(d)||d,w=p.p(s),T=function(Q,z){var re=p.w(i.$u?Date.UTC(i.$y,z,Q):new Date(i.$y,z,Q),i);return f?re:re.endOf(W)},B=function(Q,z){return p.w(i.toDate()[Q].apply(i.toDate("s"),(f?[0,0,0,0]:[23,59,59,999]).slice(z)),i)},P=this.$W,F=this.$M,C=this.$D,Z="set"+(this.$u?"UTC":"");switch(w){case L:return f?T(1,0):T(31,11);case N:return f?T(1,F):T(0,F+1);case U:var oe=this.$locale().weekStart||0,ae=(P<oe?P+7:P)-oe;return T(f?C-ae:C+(6-ae),F);case W:case v:return B(Z+"Hours",0);case A:return B(Z+"Minutes",1);case O:return B(Z+"Seconds",2);case b:return B(Z+"Milliseconds",3);default:return this.clone()}},c.endOf=function(s){return this.startOf(s,!1)},c.$set=function(s,d){var i,f=p.p(s),w="set"+(this.$u?"UTC":""),T=(i={},i[W]=w+"Date",i[v]=w+"Date",i[N]=w+"Month",i[L]=w+"FullYear",i[A]=w+"Hours",i[O]=w+"Minutes",i[b]=w+"Seconds",i[$]=w+"Milliseconds",i)[f],B=f===W?this.$D+(d-this.$W):d;if(f===N||f===L){var P=this.clone().set(v,1);P.$d[T](B),P.init(),this.$d=P.set(v,Math.min(this.$D,P.daysInMonth())).$d}else T&&this.$d[T](B);return this.init(),this},c.set=function(s,d){return this.clone().$set(s,d)},c.get=function(s){return this[p.p(s)]()},c.add=function(s,d){var i,f=this;s=Number(s);var w=p.p(d),T=function(F){var C=g(f);return p.w(C.date(C.date()+Math.round(F*s)),f)};if(w===N)return this.set(N,this.$M+s);if(w===L)return this.set(L,this.$y+s);if(w===W)return T(1);if(w===U)return T(7);var B=(i={},i[O]=n,i[A]=R,i[b]=e,i)[w]||1,P=this.$d.getTime()+s*B;return p.w(P,this)},c.subtract=function(s,d){return this.add(-1*s,d)},c.format=function(s){var d=this,i=this.$locale();if(!this.isValid())return i.invalidDate||ee;var f=s||"YYYY-MM-DDTHH:mm:ssZ",w=p.z(this),T=this.$H,B=this.$m,P=this.$M,F=i.weekdays,C=i.months,Z=i.meridiem,oe=function(z,re,ce,le){return z&&(z[re]||z(d,f))||ce[re].slice(0,le)},ae=function(z){return p.s(T%12||12,z,"0")},Q=Z||function(z,re,ce){var le=z<12?"AM":"PM";return ce?le.toLowerCase():le};return f.replace(X,function(z,re){return re||function(ce){switch(ce){case"YY":return String(d.$y).slice(-2);case"YYYY":return p.s(d.$y,4,"0");case"M":return P+1;case"MM":return p.s(P+1,2,"0");case"MMM":return oe(i.monthsShort,P,C,3);case"MMMM":return oe(C,P);case"D":return d.$D;case"DD":return p.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return oe(i.weekdaysMin,d.$W,F,2);case"ddd":return oe(i.weekdaysShort,d.$W,F,3);case"dddd":return F[d.$W];case"H":return String(T);case"HH":return p.s(T,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return Q(T,B,!0);case"A":return Q(T,B,!1);case"m":return String(B);case"mm":return p.s(B,2,"0");case"s":return String(d.$s);case"ss":return p.s(d.$s,2,"0");case"SSS":return p.s(d.$ms,3,"0");case"Z":return w}return null}(z)||w.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(s,d,i){var f,w=this,T=p.p(d),B=g(s),P=(B.utcOffset()-this.utcOffset())*n,F=this-B,C=function(){return p.m(w,B)};switch(T){case L:f=C()/12;break;case N:f=C();break;case E:f=C()/3;break;case U:f=(F-P)/6048e5;break;case W:f=(F-P)/864e5;break;case A:f=F/R;break;case O:f=F/n;break;case b:f=F/e;break;default:f=F}return i?f:p.a(f)},c.daysInMonth=function(){return this.endOf(N).$D},c.$locale=function(){return y[this.$L]},c.locale=function(s,d){if(!s)return this.$L;var i=this.clone(),f=_(s,d,!0);return f&&(i.$L=f),i},c.clone=function(){return p.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},u}(),H=I.prototype;return g.prototype=H,[["$ms",$],["$s",b],["$m",O],["$H",A],["$W",W],["$M",N],["$y",L],["$D",v]].forEach(function(u){H[u[1]]=function(c){return this.$g(c,u[0],u[1])}}),g.extend=function(u,c){return u.$i||(u(c,I,g),u.$i=!0),g},g.locale=_,g.isDayjs=a,g.unix=function(u){return g(1e3*u)},g.en=y[K],g.Ls=y,g.p={},g})}(ke)),ke.exports}var fo=po();const ue=nt(fo);var De={exports:{}},go=De.exports,rt;function wo(){return rt||(rt=1,function(o,r){(function(e,n){o.exports=n()})(go,function(){var e,n,R=1e3,$=6e4,b=36e5,O=864e5,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,W=31536e6,U=2628e6,N=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,E={years:W,months:U,days:O,hours:b,minutes:$,seconds:R,milliseconds:1,weeks:6048e5},L=function(y){return y instanceof ie},v=function(y,m,a){return new ie(y,a,m.$l)},ee=function(y){return n.p(y)+"s"},D=function(y){return y<0},X=function(y){return D(y)?Math.ceil(y):Math.floor(y)},M=function(y){return Math.abs(y)},q=function(y,m){return y?D(y)?{negative:!0,format:""+M(y)+m}:{negative:!1,format:""+y+m}:{negative:!1,format:""}},ie=function(){function y(a,_,g){var p=this;if(this.$d={},this.$l=g,a===void 0&&(this.$ms=0,this.parseFromMilliseconds()),_)return v(a*E[ee(_)],this);if(typeof a=="number")return this.$ms=a,this.parseFromMilliseconds(),this;if(typeof a=="object")return Object.keys(a).forEach(function(u){p.$d[ee(u)]=a[u]}),this.calMilliseconds(),this;if(typeof a=="string"){var I=a.match(N);if(I){var H=I.slice(2).map(function(u){return u!=null?Number(u):0});return this.$d.years=H[0],this.$d.months=H[1],this.$d.weeks=H[2],this.$d.days=H[3],this.$d.hours=H[4],this.$d.minutes=H[5],this.$d.seconds=H[6],this.calMilliseconds(),this}}return this}var m=y.prototype;return m.calMilliseconds=function(){var a=this;this.$ms=Object.keys(this.$d).reduce(function(_,g){return _+(a.$d[g]||0)*E[g]},0)},m.parseFromMilliseconds=function(){var a=this.$ms;this.$d.years=X(a/W),a%=W,this.$d.months=X(a/U),a%=U,this.$d.days=X(a/O),a%=O,this.$d.hours=X(a/b),a%=b,this.$d.minutes=X(a/$),a%=$,this.$d.seconds=X(a/R),a%=R,this.$d.milliseconds=a},m.toISOString=function(){var a=q(this.$d.years,"Y"),_=q(this.$d.months,"M"),g=+this.$d.days||0;this.$d.weeks&&(g+=7*this.$d.weeks);var p=q(g,"D"),I=q(this.$d.hours,"H"),H=q(this.$d.minutes,"M"),u=this.$d.seconds||0;this.$d.milliseconds&&(u+=this.$d.milliseconds/1e3,u=Math.round(1e3*u)/1e3);var c=q(u,"S"),s=a.negative||_.negative||p.negative||I.negative||H.negative||c.negative,d=I.format||H.format||c.format?"T":"",i=(s?"-":"")+"P"+a.format+_.format+p.format+d+I.format+H.format+c.format;return i==="P"||i==="-P"?"P0D":i},m.toJSON=function(){return this.toISOString()},m.format=function(a){var _=a||"YYYY-MM-DDTHH:mm:ss",g={Y:this.$d.years,YY:n.s(this.$d.years,2,"0"),YYYY:n.s(this.$d.years,4,"0"),M:this.$d.months,MM:n.s(this.$d.months,2,"0"),D:this.$d.days,DD:n.s(this.$d.days,2,"0"),H:this.$d.hours,HH:n.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:n.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:n.s(this.$d.seconds,2,"0"),SSS:n.s(this.$d.milliseconds,3,"0")};return _.replace(A,function(p,I){return I||String(g[p])})},m.as=function(a){return this.$ms/E[ee(a)]},m.get=function(a){var _=this.$ms,g=ee(a);return g==="milliseconds"?_%=1e3:_=g==="weeks"?X(_/E[g]):this.$d[g],_||0},m.add=function(a,_,g){var p;return p=_?a*E[ee(_)]:L(a)?a.$ms:v(a,this).$ms,v(this.$ms+p*(g?-1:1),this)},m.subtract=function(a,_){return this.add(a,_,!0)},m.locale=function(a){var _=this.clone();return _.$l=a,_},m.clone=function(){return v(this.$ms,this)},m.humanize=function(a){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!a)},m.valueOf=function(){return this.asMilliseconds()},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},y}(),K=function(y,m,a){return y.add(m.years()*a,"y").add(m.months()*a,"M").add(m.days()*a,"d").add(m.hours()*a,"h").add(m.minutes()*a,"m").add(m.seconds()*a,"s").add(m.milliseconds()*a,"ms")};return function(y,m,a){e=a,n=a().$utils(),a.duration=function(p,I){var H=a.locale();return v(p,{$l:H},I)},a.isDuration=L;var _=m.prototype.add,g=m.prototype.subtract;m.prototype.add=function(p,I){return L(p)?K(this,p,1):_.bind(this)(p,I)},m.prototype.subtract=function(p,I){return L(p)?K(this,p,-1):g.bind(this)(p,I)}}})}(De)),De.exports}var _o=wo();const xo=nt(_o);ue.extend(xo);function ko(){const{id:o}=St(),r=bt(),{t:e}=Ot(),[n,R]=x.useState(null),[$,b]=x.useState(!1),[O,A]=x.useState(!1),[W,U]=x.useState("timer"),[N,E]=x.useState(""),[L,v]=x.useState(!1),[ee,D]=x.useState(""),[X,M]=x.useState("success"),[q,ie]=x.useState(!1),[K,y]=x.useState(""),[m,a]=x.useState(""),[_,g]=x.useState(null),[p,I]=x.useState(null),[H,u]=x.useState(!1),[c,s]=x.useState(null),[d,i]=x.useState("C"),[f,w]=x.useState(!1),[T,B]=x.useState(""),[P,F]=x.useState(""),[C,Z]=x.useState(null),[oe,ae]=x.useState(!1),Q=`windowControl_acknowledgedCatastrophe_${o}`,z=x.useRef(null),re=x.useRef(null),ce=x.useRef(null),le="http://147.232.205.77:8000",ct=Oe(le,"devices",o.toString()),lt=Oe(le,"devices",o.toString(),"control"),Te=Oe(le,"devices",o.toString(),"settings"),he=`windowControl_scheduledAction_${o}`,de=`windowControl_closureReason_${o}`,Fe=async()=>{try{b(!0);const l=localStorage.getItem("token")||sessionStorage.getItem("token");if(!l)throw new Error(e("common.error_occurred"));const h=await fetch(ct,{method:"GET",headers:{Authorization:`Bearer ${l}`}});if(!h.ok)throw h.status===404?new Error(e("window_control.device_not_found")):h.status===401?new Error(e("common.error_occurred")):new Error(e("common.error_occurred"));const S=await h.json();R(S),i(S.temp_unit||"C"),w(S.auto_regulate_temp||!1),B(S.desired_temperature||""),F(S.desired_humidity||"")}catch(l){console.error(l),D(l.message||e("common.error_occurred")),M("error"),v(!0),l.message.includes(e("common.error_occurred"))&&r("/login")}finally{b(!1)}};x.useEffect(()=>{(()=>{const h=localStorage.getItem(he);if(h)try{const j=JSON.parse(h),V=ue(Number(j.executionTime)),pe=ue(),Ze=V.diff(pe);V.isAfter(pe)?(g(j),a(V.format("HH:mm")),Ie(j)):Ye(j)}catch(j){console.error(e("common.error_occurred"),j),localStorage.removeItem(he)}const S=localStorage.getItem(de);if(S)try{const j=JSON.parse(S);Z(j),console.log(`Loaded closureReason from localStorage: ${j}`)}catch(j){console.error(e("common.error_occurred"),j),localStorage.removeItem(de)}const k=localStorage.getItem(Q);if(k)try{const j=JSON.parse(k);ae(j),console.log(`Loaded acknowledgedCatastrophe from localStorage: ${j}`)}catch(j){console.error(e("common.error_occurred"),j),localStorage.removeItem(Q)}})()},[o]),x.useEffect(()=>(Fe(),re.current=setInterval(()=>{Fe()},6e4),()=>{clearInterval(re.current),_&&we()}),[o]),x.useEffect(()=>{ie(!0)},[]),x.useEffect(()=>()=>{A(!1),v(!1),we()},[]);const Se=async(l,h)=>{try{b(!0);const S=localStorage.getItem("token")||sessionStorage.getItem("token");if(!S)throw new Error(e("common.error_occurred"));const k=await fetch(lt,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify(l)});if(!k.ok){if(k.status===401)throw new Error(e("common.error_occurred"));const V=await k.json();throw new Error(V.detail||e("common.error_occurred"))}const j=await k.json();R(j),D(e("window_control.action_success")),M("success"),v(!0),h&&h(j)}catch(S){console.error(S),D(S.message||e("common.error_occurred")),M("error"),v(!0),S.message.includes(e("common.error_occurred"))&&r("/login")}finally{b(!1)}},Ye=async l=>{try{await Se(l,()=>{D(e("window_control.scheduled_action_executed",{action:e(`common.${l.state}`)})),M("success"),v(!0)}),g(null),localStorage.removeItem(he),we(),l.state==="closed"&&(Z(null),localStorage.removeItem(de))}catch{D(e("window_control.action_fail")),M("error"),v(!0)}},Ee=l=>{U(l),E(""),A(!0)},Ue=()=>{A(!1),E("")},dt=()=>{const l=parseInt(N,10);if(isNaN(l)||l<=0){D(e("window_control.invalid_timer")),M("error"),v(!0);return}const h=n.state==="opened"?"closed":"opened",S=ue().add(l,"minute"),k={state:h,executionTime:S.valueOf()};localStorage.setItem(he,JSON.stringify(k)),g(k),a(S.format("HH:mm")),Ie(k),A(!1),E(""),D(e("common.timer_set_success",{minutes:l})),M("success"),v(!0)},ut=()=>{const[l,h]=N.split(":").map(Number);if(isNaN(l)||isNaN(h)||l<0||l>23||h<0||h>59){D(e("window_control.invalid_alarm_time")),M("error"),v(!0);return}const S=ue();let k=ue().hour(l).minute(h).second(0);k.isBefore(S)&&(k=k.add(1,"day"));const V={state:n.state==="opened"?"closed":"opened",executionTime:k.valueOf()};localStorage.setItem(he,JSON.stringify(V)),g(V),a(k.format("HH:mm")),Ie(V),A(!1),E(""),D(e("common.alarm_set_success",{time:k.format("HH:mm")})),M("success"),v(!0)},be=async(l,h)=>{if(!n)return;const S=new URLSearchParams({auto_close_on_rain:n.auto_close_on_rain,auto_close_on_fire:n.auto_close_on_fire,auto_regulate_temp:n.auto_regulate_temp,temp_unit:n.temp_unit});l==="rain"?S.set("auto_close_on_rain",h):l==="fire"?S.set("auto_close_on_fire",h):l==="auto_regulate_temp"?S.set("auto_regulate_temp",h):l==="temp_unit"&&S.set("temp_unit",h);try{b(!0);const k=localStorage.getItem("token")||sessionStorage.getItem("token");if(!k)throw new Error(e("common.error_occurred"));const j=await fetch(`${Te}?${S.toString()}`,{method:"PUT",headers:{Authorization:`Bearer ${k}`}});if(!j.ok)throw j.status===401?new Error(e("common.error_occurred")):new Error(e("common.error_occurred"));const V=await j.json();R(V),D(e("window_control.automatic_closure_updated")),M("success"),v(!0)}catch(k){console.error(k),D(k.message||e("common.error_occurred")),M("error"),v(!0),k.message.includes(e("common.error_occurred"))&&r("/login")}finally{b(!1)}},Le=()=>{v(!1)},mt=l=>{switch(l){case"wind":return t.jsx(kt,{size:24,color:"#1976d2"});case"rain":return t.jsx(Ct,{size:24,color:"#dc004e"});case"fire":return t.jsx(jt,{size:24,color:"#ff9800"});default:return t.jsx(tt,{size:24,color:"#757575"})}},Ie=l=>{z.current&&clearInterval(z.current);const h=()=>{const S=ue(),k=l.executionTime-S.valueOf();if(k<=0){y("00:00:00"),clearInterval(z.current),z.current=null,Ye(l);return}const j=ue.duration(k),V=String(Math.floor(j.asHours())).padStart(2,"0"),pe=String(j.minutes()).padStart(2,"0"),Ze=String(j.seconds()).padStart(2,"0");y(`${V}:${pe}:${Ze}`)};h(),z.current=setInterval(h,1e3)},we=()=>{z.current&&(clearInterval(z.current),z.current=null),_&&(y(""),a(""),g(null),localStorage.removeItem(he)),C&&C.startsWith("manual_")&&(Z(null),localStorage.removeItem(de))};x.useEffect(()=>()=>we(),[]),x.useEffect(()=>{if(!n)return;const l=ce.current;ce.current=n,n.fire_alarm&&(!l||!l.fire_alarm)&&n.auto_close_on_fire&&n.state==="opened"&&Je("fire"),n.rain_alarm&&(!l||!l.rain_alarm)&&n.auto_close_on_rain&&n.state==="opened"&&Je("rain")},[n]);const Je=async l=>{if(oe){console.log("Autoclose skipped because catastrophe was acknowledged by user."),D(e("window_control.auto_close_skipped_acknowledged")),M("info"),v(!0);return}try{await Se({state:"closed"},()=>{D(e(`window_control.auto_closed_${l}`)),M("info"),v(!0),I(l);const h=`auto_${l}`;Z(h),localStorage.setItem(de,JSON.stringify(h)),console.log(`Closure Reason set to: ${h}`)})}catch(h){console.error(`Failed to auto-close window due to ${l}:`,h),D(e("window_control.auto_close_failed")),M("error"),v(!0)}},ht=()=>{if(!n)return;const l=n.state==="opened"?"closed":"opened";if(l==="opened"&&(C==="auto_fire"||C==="auto_rain")){s("open"),u(!0);return}Se({state:l},()=>{if(_||(D(e("window_control.action_success")),M("success"),v(!0)),l==="closed"){let h="manual";p==="fire"?h="manual_fire":p==="rain"&&(h="manual_rain"),Z(h),localStorage.setItem(de,JSON.stringify(h)),console.log(`Closure Reason set to: ${h}`)}l==="opened"&&(I(null),Z(null),localStorage.removeItem(de))})},pt=()=>{c==="open"&&Se({state:"opened"},()=>{D(e("window_control.action_success")),M("success"),v(!0),I(null),Z(null),localStorage.removeItem(de),ae(!0),localStorage.setItem(Q,JSON.stringify(!0)),console.log("Acknowledged catastrophe by user."),setTimeout(()=>{D(e("window_control.recommend_close_window")),M("warning"),v(!0)},1e3)}),u(!1),s(null)},qe=()=>{u(!1),s(null),D(e("window_control.action_cancelled")),M("info"),v(!0)},ft=l=>{const h=l.target.value;i(h),be("temp_unit",h)},gt=l=>{const h=l.target.checked;w(h),be("auto_regulate_temp",h),h||(B(""),F(""))},wt=async()=>{if(T===""){D(e("common.fill_all_fields")),M("error"),v(!0);return}const l=parseFloat(T);if(isNaN(l)){D(e("common.error_occurred")),M("error"),v(!0);return}let h=null;if(P!==""&&(h=parseFloat(P),isNaN(h)||h<0||h>100)){D(e("window_control.invalid_humidity")),M("error"),v(!0);return}try{b(!0);const S=localStorage.getItem("token")||sessionStorage.getItem("token");if(!S)throw new Error(e("common.error_occurred"));const k=new URLSearchParams({auto_close_on_rain:n.auto_close_on_rain,auto_close_on_fire:n.auto_close_on_fire,auto_regulate_temp:!0,temp_unit:d,desired_temperature:l,desired_humidity:h!==null?h:"null"});console.log(`PUT Request URL: ${Te}?${k.toString()}`);const j=await fetch(`${Te}?${k.toString()}`,{method:"PUT",headers:{Authorization:`Bearer ${S}`}});if(!j.ok){if(j.status===401)throw new Error(e("common.error_occurred"));const pe=await j.json();throw new Error(pe.detail||e("common.error_occurred"))}const V=await j.json();R(V),D(e("window_control.automatic_closure_updated")),M("success"),v(!0)}catch(S){console.error(S),D(S.message||e("common.error_occurred")),M("error"),v(!0),S.message.includes(e("common.error_occurred"))&&r("/login")}finally{b(!1)}},[_t,Ve]=x.useState(!1),[Ge,xt]=x.useState("");x.useEffect(()=>{if(C&&C.startsWith("auto_")){const l=C.split("_")[1];xt(l),Ve(!0)}},[C]);const Xe=()=>{Ve(!1)};return x.useEffect(()=>{if(n){const{fire_alarm:l,rain_alarm:h}=n;!l&&!h&&oe&&(ae(!1),localStorage.setItem(Q,JSON.stringify(!1)),console.log("Acknowledged catastrophe reset because alarms are off."))}},[n,oe,Q,e]),t.jsx(At,{component:"main",maxWidth:"lg",sx:{mt:4,mb:4,position:"relative"},children:n&&t.jsx(it,{in:q,timeout:1e3,children:t.jsxs(fe,{children:[t.jsx(Y,{variant:"h4",gutterBottom:!0,children:e("window_control.control_device",{name:n.name})}),t.jsx(Rt,{in:!0,timeout:1e3,children:t.jsx(_e,{sx:{mb:3,p:2},children:t.jsxs(J,{container:!0,alignItems:"center",spacing:2,children:[t.jsxs(J,{item:!0,xs:12,sm:6,md:4,display:"flex",alignItems:"center",children:[mt(n.type||"default"),t.jsxs(fe,{sx:{ml:2},children:[t.jsx(Y,{variant:"h6",children:e("window_control.state_"+(n.state==="opened"?"opened":"closed"))}),_&&t.jsx(Y,{variant:"body2",color:"text.secondary",children:e("window_control.scheduled_action",{action:e(`common.${_.state}`),time:m})}),C&&t.jsxs(t.Fragment,{children:[t.jsx(Y,{variant:"body2",color:"error",fontWeight:"bold",children:C.startsWith("auto_")?e(`window_control.auto_closed_${C.split("_")[1]}`):C.startsWith("manual_")?e(`window_control.manual_closed_${C.split("_")[1]}`):C==="manual"?e("window_control.manual_closed"):""}),C.includes("fire")&&t.jsx(Y,{variant:"body2",color:"error",fontWeight:"bold",children:e("window_control.fire_detected")}),C.includes("rain")&&t.jsx(Y,{variant:"body2",color:"error",fontWeight:"bold",children:e("window_control.rain_detected")})]}),n.state==="opened"&&(n.fire_alarm||n.rain_alarm)&&t.jsx(Y,{variant:"body1",color:"error",fontWeight:"bold",sx:{mt:2},children:e("window_control.recommend_close_window")})]})]}),t.jsx(J,{item:!0,xs:12,sm:6,md:8,children:t.jsx(fe,{display:"flex",justifyContent:{xs:"center",sm:"flex-end"},children:t.jsx(Ce,{title:e("window_control.open_close_window"),children:t.jsx("span",{children:t.jsx(se,{variant:"contained",color:"primary",onClick:ht,startIcon:t.jsx(tt,{}),disabled:$||_!==null,size:"large",sx:{transition:"transform 0.3s ease-in-out, background-color 0.3s ease-in-out","&:hover":{transform:"scale(1.05)",backgroundColor:"primary.dark"}},children:n.state==="opened"?e("window_control.close"):e("window_control.open")})})})})})]})})}),t.jsxs(_e,{sx:{mb:3,p:2},children:[t.jsxs(je,{children:[t.jsx(Y,{variant:"h6",gutterBottom:!0,children:e("window_control.temperature_humidity")}),t.jsxs(J,{container:!0,spacing:2,children:[t.jsx(J,{item:!0,xs:12,sm:6,md:3,children:t.jsxs(Y,{variant:"subtitle1",children:[e("window_control.current_temperature"),": ",n.current_temperature,"°",d]})}),t.jsx(J,{item:!0,xs:12,sm:6,md:3,children:t.jsxs(Y,{variant:"subtitle1",children:[e("window_control.outside_temperature"),": ",n.outside_temperature,"°",d]})}),t.jsx(J,{item:!0,xs:12,sm:6,md:3,children:t.jsxs(Y,{variant:"subtitle1",children:[e("window_control.current_humidity"),": ",n.current_humidity,"%"]})}),t.jsx(J,{item:!0,xs:12,sm:6,md:3,children:t.jsxs(Y,{variant:"subtitle1",children:[e("window_control.outside_humidity"),": ",n.outside_humidity,"%"]})})]})]}),t.jsx(Qe,{children:t.jsx(J,{container:!0,spacing:2,alignItems:"center",children:t.jsx(J,{item:!0,xs:12,sm:6,md:4,children:t.jsxs(Wt,{fullWidth:!0,variant:"standard",children:[t.jsx(Nt,{id:"temp-unit-label",children:e("window_control.temp_unit")}),t.jsxs(Bt,{labelId:"temp-unit-label",id:"temp-unit-select",value:d,onChange:ft,disabled:$,children:[t.jsx(et,{value:"C",children:"°C"}),t.jsx(et,{value:"F",children:"°F"})]})]})})})})]}),t.jsx(_e,{sx:{mb:3,p:2},children:t.jsxs(je,{children:[t.jsx(Y,{variant:"h6",gutterBottom:!0,children:e("window_control.auto_regulate_temp")}),t.jsx(Ae,{control:t.jsx(Pe,{checked:f,onChange:gt,color:"primary",disabled:$}),label:e("window_control.auto_regulate_temp")}),f&&t.jsxs(fe,{sx:{mt:2},children:[t.jsxs(J,{container:!0,spacing:2,children:[t.jsx(J,{item:!0,xs:12,sm:6,children:t.jsx(Re,{label:e("window_control.desired_temperature"),type:"number",variant:"outlined",fullWidth:!0,required:!0,value:T,onChange:l=>B(l.target.value),disabled:$,inputProps:{step:.1}})}),t.jsx(J,{item:!0,xs:12,sm:6,children:t.jsx(Re,{label:e("window_control.desired_humidity"),type:"number",variant:"outlined",fullWidth:!0,value:P,onChange:l=>F(l.target.value),disabled:$,inputProps:{step:1},placeholder:e("window_control.desired_humidity_placeholder")})})]}),t.jsx(fe,{sx:{mt:2,textAlign:"right"},children:t.jsx(se,{variant:"contained",color:"primary",onClick:wt,disabled:$,children:e("common.confirm")})})]})]})}),t.jsxs(J,{container:!0,spacing:2,sx:{mb:3},children:[t.jsx(J,{item:!0,xs:12,sm:6,children:t.jsx(Ce,{title:e("window_control.set_timer"),children:t.jsx("span",{children:t.jsx(se,{variant:"outlined",color:"secondary",onClick:()=>Ee("timer"),fullWidth:!0,startIcon:t.jsx(mo,{}),disabled:$||_!==null,size:"large",sx:{transition:"transform 0.3s ease-in-out, background-color 0.3s ease-in-out","&:hover":{transform:"scale(1.05)",backgroundColor:"#f0f0f0"}},children:e("window_control.set_timer")})})})}),t.jsx(J,{item:!0,xs:12,sm:6,children:t.jsx(Ce,{title:e("window_control.set_alarm"),children:t.jsx("span",{children:t.jsx(se,{variant:"outlined",color:"secondary",onClick:()=>Ee("alarm"),fullWidth:!0,startIcon:t.jsx(lo,{}),disabled:$||_!==null,size:"large",sx:{transition:"transform 0.3s ease-in-out, background-color 0.3s ease-in-out","&:hover":{transform:"scale(1.05)",backgroundColor:"#f0f0f0"}},children:e("window_control.set_alarm")})})})})]}),_&&t.jsxs(_e,{sx:{mb:3,p:2},children:[t.jsxs(je,{children:[t.jsx(Y,{variant:"body1",children:e("window_control.scheduled_action",{action:e(`common.${_.state}`),time:m})}),K&&t.jsx(Y,{variant:"body2",color:"text.secondary",children:e("common.countdown",{countdown:K})})]}),t.jsx(Qe,{children:t.jsx(J,{container:!0,spacing:2,children:t.jsx(J,{item:!0,xs:12,sm:6,children:t.jsx(Ce,{title:e("window_control.cancel_scheduled_action"),children:t.jsx("span",{children:t.jsx(se,{variant:"outlined",color:"error",onClick:we,startIcon:t.jsx(uo,{}),disabled:$,fullWidth:!0,size:"large",sx:{transition:"transform 0.3s ease-in-out, background-color 0.3s ease-in-out","&:hover":{transform:"scale(1.05)",backgroundColor:"#ffe6e6"}},children:e("window_control.cancel")})})})})})})]}),t.jsx(_e,{sx:{mb:3,p:2},children:t.jsxs(je,{children:[t.jsx(Y,{variant:"h6",gutterBottom:!0,children:e("window_control.automatic_closure")}),t.jsxs(fe,{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"flex-start",sm:"center"},gap:2,children:[t.jsx(Ae,{control:t.jsx(Pe,{checked:n.auto_close_on_rain,onChange:l=>be("rain",l.target.checked),color:"primary",disabled:$}),label:e("window_control.automatic_closure_rain")}),t.jsx(Ae,{control:t.jsx(Pe,{checked:n.auto_close_on_fire,onChange:l=>be("fire",l.target.checked),color:"primary",disabled:$}),label:e("window_control.automatic_closure_fire")})]})]})}),t.jsxs(Ne,{open:O,onClose:Ue,children:[t.jsx(He,{children:e(W==="timer"?"window_control.timer_dialog_title":"window_control.alarm_dialog_title")}),t.jsxs(ze,{children:[t.jsx(Y,{variant:"body2",color:"text.secondary",sx:{mb:2},children:W==="timer"?e("window_control.timer_dialog_description",{action:e(`common.${n.state==="opened"?"closed":"opened"}`)}):e("window_control.alarm_dialog_description",{action:e(`common.${n.state==="opened"?"closed":"opened"}`)})}),t.jsx(Re,{autoFocus:!0,margin:"dense",fullWidth:!0,variant:"standard",value:N,onChange:l=>E(l.target.value),placeholder:e(W==="timer"?"window_control.timer_placeholder":"window_control.alarm_placeholder"),disabled:$,type:W==="timer"?"number":"time",InputProps:{inputProps:{min:1,max:W==="timer"?1440:void 0}}})]}),t.jsxs(Be,{children:[t.jsx(se,{onClick:Ue,disabled:$,children:e("common.cancel")}),t.jsx(se,{onClick:W==="timer"?dt:ut,disabled:$,children:e("common.confirm")})]})]}),t.jsxs(Ne,{open:H,onClose:qe,children:[t.jsx(He,{children:e("window_control.confirm_open_title")}),t.jsx(ze,{children:t.jsx(Y,{variant:"body2",color:"text.secondary",children:e(C==="auto_fire"?"window_control.confirm_open_fire":C==="auto_rain"?"window_control.confirm_open_rain":"window_control.confirm_open")})}),t.jsxs(Be,{children:[t.jsx(se,{onClick:qe,disabled:$,children:e("common.cancel")}),t.jsx(se,{onClick:pt,disabled:$,color:"primary",children:e("common.confirm")})]})]}),t.jsxs(Ne,{open:_t,onClose:Xe,children:[t.jsx(He,{children:e(Ge==="fire"?"window_control.fire_detected":"window_control.rain_detected")}),t.jsx(ze,{children:t.jsx(Y,{variant:"body2",color:"text.secondary",children:e(Ge==="fire"?"window_control.fire_detected_message":"window_control.rain_detected_message")})}),t.jsx(Be,{children:t.jsx(se,{onClick:Xe,color:"primary",children:e("common.close")})})]}),t.jsx(zt,{open:L,autoHideDuration:6e3,onClose:Le,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:t.jsx(Ht,{onClose:Le,severity:X,sx:{width:"100%"},children:ee})})]})})})}export{ko as default};
